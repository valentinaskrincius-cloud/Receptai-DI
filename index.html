<!DOCTYPE html>
<html lang="lt">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Didysis Recept≈≥ Bankas (150+)</title>
    <style>
        :root { --primary: #e67e22; --dark: #2c3e50; --bg: #fdfbf7; }
        body { font-family: sans-serif; background: var(--bg); margin: 0; color: var(--dark); }
        header { background: var(--dark); color: white; padding: 20px; text-align: center; }
        .container { max-width: 1200px; margin: 0 auto; padding: 20px; }
        
        /* Paie≈°ka */
        .search-area { background: white; padding: 20px; border-radius: 8px; box-shadow: 0 4px 10px rgba(0,0,0,0.1); position: sticky; top: 10px; z-index: 100; }
        .input-row { display: flex; gap: 10px; }
        input { flex: 1; padding: 12px; font-size: 16px; border: 2px solid #ddd; border-radius: 4px; }
        button { padding: 12px 20px; cursor: pointer; border: none; border-radius: 4px; font-weight: bold; color: white; transition: 0.2s; }
        .btn-add { background: #34495e; }
        .btn-search { background: var(--primary); font-size: 18px; width: 100%; margin-top: 10px; }
        .btn-search:hover { background: #d35400; }
        
        /* Tagai */
        .tags { display: flex; flex-wrap: wrap; gap: 5px; margin-top: 10px; }
        .tag { background: #ecf0f1; padding: 5px 12px; border-radius: 15px; font-size: 14px; display: flex; align-items: center; gap: 5px; }
        .tag span { color: red; cursor: pointer; font-weight: bold; }

        /* Rezultatai */
        .stats { margin: 15px 0; color: #7f8c8d; font-style: italic; }
        .grid { display: grid; grid-template-columns: repeat(auto-fill, minmax(280px, 1fr)); gap: 20px; }
        
        .card { background: white; border-radius: 8px; overflow: hidden; box-shadow: 0 2px 5px rgba(0,0,0,0.1); border: 1px solid #eee; display: flex; flex-direction: column; }
        .card img { width: 100%; height: 180px; object-fit: cover; background: #eee; }
        .card-body { padding: 15px; flex: 1; display: flex; flex-direction: column; }
        .card h3 { margin: 0 0 10px 0; font-size: 18px; }
        .card p { font-size: 14px; color: #555; margin: 0 0 10px 0; }
        .matches { background: #27ae60; color: white; display: inline-block; padding: 3px 8px; border-radius: 4px; font-size: 12px; margin-bottom: 8px; align-self: flex-start;}
        
        .instr { border-top: 1px solid #eee; padding-top: 10px; margin-top: auto; font-size: 13px; color: #333; }
    </style>
</head>
<body>

<header>
    <h1>üìö 150+ Recept≈≥ Bankas</h1>
    <p>ƒÆvesk produktus ir a≈° pasakysiu, kƒÖ gaminti.</p>
</header>

<div class="container">
    <div class="search-area">
        <div class="input-row">
            <input type="text" id="ingInput" placeholder="Pvz.: bulvƒós, kiau≈°iniai, miltai...">
            <button class="btn-add" onclick="addIng()">Pridƒóti</button>
        </div>
        <div class="tags" id="tags"></div>
        <button class="btn-search" onclick="search()">üîç Ie≈°koti Recept≈≥</button>
        <div style="text-align: center; margin-top: 5px; font-size: 12px; color: #888; cursor: pointer;" onclick="showAll()">arba rodyti visus receptus</div>
    </div>

    <div class="stats" id="stats"></div>
    <div class="grid" id="grid"></div>
</div>

<script>
    let myIngs = [];

    // --- MIL≈ΩINI≈†KA RECEPT≈≤ BAZƒñ (GENERATED) ---
    // Siekiant taupyti vietƒÖ, nuotraukos generuojamos automati≈°kai pagal rakta≈æod≈æius
    const DB = [
        // --- KIAU≈†INIAI / PUSRYƒåIAI ---
        {t: "Omletas", i: ["kiau≈°iniai", "pienas", "sviestas"], d: "Suplakti ir kepti."},
        {t: "Omletas su s≈´riu", i: ["kiau≈°iniai", "pienas", "s≈´ris"], d: "Kepti, gale u≈æbarstyti s≈´rio."},
        {t: "Kiau≈°inienƒó su ≈°onine", i: ["kiau≈°iniai", "≈°oninƒó"], d: "Pakepinti ≈°oninƒô, ƒØmu≈°ti kiau≈°inius."},
        {t: "Virti kiau≈°iniai", i: ["kiau≈°iniai", "vanduo", "druska"], d: "Virti 5-10 min pagal skonƒØ."},
        {t: "ƒÆdaryti kiau≈°iniai", i: ["kiau≈°iniai", "majonezas", "garstyƒçios"], d: "I≈°virti, trynƒØ sumai≈°yti su pada≈æu, ƒØdaryti."},
        {t: "≈†ak≈°uka", i: ["kiau≈°iniai", "pomidorai", "svog≈´nai", "paprika"], d: "Tro≈°kinti dar≈æoves, ƒØmu≈°ti kiau≈°inius."},
        {t: "Benedikto kiau≈°iniai", i: ["kiau≈°iniai", "duona", "≈°oninƒó", "actas"], d: "Be luk≈°to virti kiau≈°iniai ant duonos."},
        {t: "Avi≈æinƒó ko≈°ƒó", i: ["avi≈æos", "pienas", "vanduo"], d: "Virti 10 min, pagardinti sviestu."},
        {t: "Ry≈æi≈≥ ko≈°ƒó", i: ["ry≈æiai", "pienas", "sviestas"], d: "I≈°virti ry≈æius piene."},
        {t: "Man≈≥ ko≈°ƒó", i: ["manai", "pienas", "cukrus"], d: "Virti mai≈°ant, kad neb≈´t≈≥ gumul≈≥."},
        {t: "Griki≈≥ ko≈°ƒó", i: ["grikiai", "sviestas", "druska"], d: "I≈°virti grikius, ƒØdƒóti sviesto."},
        {t: "Sumu≈°tiniai su s≈´riu", i: ["duona", "sviestas", "s≈´ris"], d: "U≈ætepti sviestƒÖ, dƒóti s≈´rƒØ."},
        {t: "Kar≈°ti sumu≈°tiniai", i: ["batonas", "s≈´ris", "majonezas", "kumpis"], d: "Orkaitƒóje kepti kol s≈´ris i≈°silydys."},
        {t: "Skrebuƒçiai su ƒçesnaku", i: ["duona", "aliejus", "ƒçesnakas"], d: "Apkepti duonƒÖ, ƒØtrinti ƒçesnaku."},
        {t: "Pranc≈´zi≈°ki skrebuƒçiai", i: ["batonas", "kiau≈°iniai", "pienas", "cinamonas"], d: "Mirkyti batonƒÖ plakinyje ir kepti."},
        
        // --- BLYNAI / VAR≈†Kƒñ ---
        {t: "Lietiniai blynai", i: ["miltai", "pienas", "kiau≈°iniai", "vanduo"], d: "Kepti plonus blynus."},
        {t: "Lietiniai su var≈°ke", i: ["miltai", "pienas", "kiau≈°iniai", "var≈°kƒó"], d: "I≈°kepti blynus, ƒØdaryti var≈°ke."},
        {t: "Lietiniai su mƒósa", i: ["miltai", "pienas", "kiau≈°iniai", "far≈°as"], d: "I≈°kepti blynus, ƒØdaryti kepintu far≈°u."},
        {t: "Lietiniai su s≈´riu ir kumpiu", i: ["miltai", "pienas", "kiau≈°iniai", "s≈´ris", "kumpis"], d: "Blynus ƒØdaryti ir apkepinti."},
        {t: "Mieliniai blynai", i: ["miltai", "pienas", "mielƒós", "cukrus"], d: "Pakildinti te≈°lƒÖ ir kepti."},
        {t: "Blynai su obuoliais", i: ["miltai", "kiau≈°iniai", "pienas", "obuoliai"], d: "ƒÆtarkuoti obuolius ƒØ te≈°lƒÖ."},
        {t: "≈Ωemaiƒçi≈≥ blynai", i: ["bulvƒós", "kiau≈°iniai", "miltai", "far≈°as"], d: "Virt≈≥ bulvi≈≥ te≈°la su mƒósos ƒØdaru."},
        {t: "Kƒódaini≈≥ blynai", i: ["bulvƒós", "far≈°as", "kiau≈°iniai"], d: "Tarkuot≈≥ bulvi≈≥ blynai su mƒósos ƒØdaru."},
        {t: "Bulviniai blynai", i: ["bulvƒós", "svog≈´nai", "kiau≈°iniai"], d: "Sutarkuoti ir kepti."},
        {t: "Cukinij≈≥ blynai", i: ["cukinija", "kiau≈°iniai", "miltai"], d: "Sutarkuoti cukinijƒÖ ir kepti."},
        {t: "Var≈°kƒóƒçiai", i: ["var≈°kƒó", "kiau≈°iniai", "miltai", "cukrus"], d: "Sumai≈°yti ir kepti keptuvƒóje."},
        {t: "Virtinukai su var≈°ke", i: ["miltai", "vanduo", "kiau≈°iniai", "var≈°kƒó"], d: "Padaryti te≈°lƒÖ, ƒØdaryti, virti."},
        {t: "Tinginio var≈°kƒóƒçiai", i: ["var≈°kƒó", "miltai", "kiau≈°iniai"], d: "Virtos te≈°los gabaliukai."},
        {t: "Var≈°kƒós apkepas", i: ["var≈°kƒó", "manai", "kiau≈°iniai", "pienas"], d: "Kepti orkaitƒóje 45min."},

        // --- SRIUBOS ---
        {t: "≈†altibar≈°ƒçiai", i: ["kefyras", "burokƒóliai", "agurkai", "kiau≈°iniai"], d: "ViskƒÖ sumai≈°yti ≈°altai."},
        {t: "Burokƒóli≈≥ sriuba", i: ["burokƒóliai", "bulvƒós", "morkos", "mƒósa"], d: "Virti sultinƒØ su dar≈æovƒómis."},
        {t: "Raugint≈≥ kop≈´st≈≥ sriuba", i: ["rauginti kop≈´stai", "bulvƒós", "≈°onkauliai"], d: "Ilgai virti kop≈´stus su mƒósa."},
        {t: "≈†vie≈æi≈≥ kop≈´st≈≥ sriuba", i: ["kop≈´stai", "bulvƒós", "morkos"], d: "Lengva sriuba su dar≈æovƒómis."},
        {t: "Agurkinƒó sriuba", i: ["marinuoti agurkai", "bulvƒós", "perlinƒós kruopos"], d: "Virti, gale sudƒóti agurkus."},
        {t: "≈Ωirni≈≥ sriuba", i: ["≈æirniai", "≈°oninƒó", "bulvƒós", "morkos"], d: "Virti ≈æirnius kol suvirs."},
        {t: "Pupeli≈≥ sriuba", i: ["pupelƒós", "bulvƒós", "morkos"], d: "Soti sriuba su pupelƒómis."},
        {t: "Vi≈°tienos sultinys", i: ["vi≈°tiena", "morkos", "svog≈´nai"], d: "Virti vi≈°tienƒÖ ant lƒótos ugnies."},
        {t: "Makaron≈≥ sriuba", i: ["vi≈°tiena", "makaronai", "morkos"], d: "Sultinys su makaronais."},
        {t: "Frikadeli≈≥ sriuba", i: ["far≈°as", "bulvƒós", "morkos"], d: "Sriuba su mƒósos kukuliais."},
        {t: "Pieni≈°ka sriuba", i: ["pienas", "makaronai", "cukrus"], d: "Virti makaronus piene."},
        {t: "Trinta moli≈´g≈≥ sriuba", i: ["moli≈´gas", "grietinƒólƒó", "svog≈´nai"], d: "I≈°virti, sutrinti, ƒØpilti grietinƒólƒós."},
        {t: "Trinta pievagrybi≈≥ sriuba", i: ["pievagrybiai", "grietinƒólƒó", "svog≈´nai"], d: "Pakepinti grybus, virti, sutrinti."},
        {t: "Pomidorinƒó sriuba", i: ["pomidorai", "ry≈æiai", "svog≈´nai"], d: "Trinti pomidorai su ry≈æiais."},
        {t: "R≈´g≈°tyni≈≥ sriuba", i: ["r≈´g≈°tynƒós", "≈°oninƒó", "kiau≈°iniai"], d: "Virti, gale ƒØdƒóti smulkintƒÖ kiau≈°inƒØ."},
        {t: "Charƒçio", i: ["jautiena", "ry≈æiai", "pomidor≈≥ pasta", "ƒçesnakas"], d: "A≈°tri gruzini≈°ka sriuba."},
        {t: "Solianka", i: ["de≈°relƒós", "kumpis", "agurkai", "alyvuogƒós"], d: "Soti mƒósi≈°ka sriuba."},

        // --- VI≈†TIENA ---
        {t: "Kepta vi≈°tiena orkaitƒóje", i: ["vi≈°tiena", "majonezas", "ƒçesnakas"], d: "ƒÆtrinti ir kepti 1 val."},
        {t: "Vi≈°tienos kr≈´tinƒólƒó", i: ["vi≈°tiena", "prieskoniai", "aliejus"], d: "Kepti keptuvƒóje, neperkepti."},
        {t: "Vi≈°tienos kotletai", i: ["vi≈°tiena", "kiau≈°iniai", "miltai", "majonezas"], d: "Smulkinta vi≈°tiena su majonezu."},
        {t: "Vi≈°tienos tro≈°kinys", i: ["vi≈°tiena", "grietinƒó", "morkos"], d: "Tro≈°kinti pada≈æe."},
        {t: "Plovas su vi≈°tiena", i: ["vi≈°tiena", "ry≈æiai", "morkos", "svog≈´nai"], d: "Ry≈æiai tro≈°kinti su mƒósa."},
        {t: "Vi≈°tienos karis", i: ["vi≈°tiena", "karis", "grietinƒólƒó", "ry≈æiai"], d: "Indi≈°kas tro≈°kinys."},
        {t: "Kijevas", i: ["vi≈°tiena", "sviestas", "d≈æi≈´vƒósƒóliai"], d: "Filƒó ƒØdaryta sviestu."},
        {t: "Vi≈°tienos sparneliai", i: ["sparneliai", "medus", "soja"], d: "Marinuoti ir kepti orkaitƒóje."},
        {t: "Cezario salotos", i: ["vi≈°tiena", "salotos", "skrebuƒçiai", "s≈´ris"], d: "Salotos su anƒçiuvi≈≥ pada≈æu."},

        // --- KIAULIENA / JAUTIENA ---
        {t: "Karbonadas", i: ["kiauliena", "kiau≈°iniai", "d≈æi≈´vƒósƒóliai"], d: "I≈°mu≈°ti ir kepti."},
        {t: "Kotletai", i: ["far≈°as", "batonas", "svog≈´nai"], d: "Formuoti ir kepti."},
        {t: "Netikras zuikis", i: ["far≈°as", "kiau≈°iniai", "manai"], d: "Mƒósos pyragas orkaitƒóje."},
        {t: "Gulia≈°as", i: ["mƒósa", "miltai", "pomidor≈≥ pada≈æas"], d: "Mƒósos gabaliukai pada≈æe."},
        {t: "Balandƒóliai", i: ["kop≈´stas", "far≈°as", "ry≈æiai"], d: "Mƒósa ƒØsukta ƒØ kop≈´stƒÖ."},
        {t: "Cepelinai", i: ["bulvƒós", "far≈°as", "svog≈´nai"], d: "Nacionalinis patiekalas."},
        {t: "Kugelis su mƒósa", i: ["bulvƒós", "kiauliena", "pienas"], d: "Bulvi≈≥ plok≈°tainis su gabaliukais."},
        {t: "≈†a≈°lykai", i: ["kiauliena", "svog≈´nai", "actas"], d: "Marinuota mƒósa ant ≈æarij≈≥."},
        {t: "Tro≈°kinys su dar≈æovƒómis", i: ["mƒósa", "bulvƒós", "morkos", "kop≈´stas"], d: "Viskas viename puode."},
        {t: "Makaronai su far≈°u", i: ["makaronai", "far≈°as", "pomidor≈≥ pada≈æas"], d: "Bolonijos stiliaus."},
        {t: "Lazanja", i: ["lak≈°tai", "far≈°as", "s≈´ris", "pienas"], d: "Sluoksniuotas makaron≈≥ pyragas."},
        {t: "Kold≈´nai", i: ["miltai", "vanduo", "far≈°as"], d: "Virti mƒósos virtinukai."},

        // --- BULVƒñS / DAR≈ΩOVƒñS ---
        {t: "Virtos bulvƒós", i: ["bulvƒós", "krapai", "sviestas"], d: "Klasika prie visko."},
        {t: "Bulvi≈≥ ko≈°ƒó", i: ["bulvƒós", "pienas", "sviestas"], d: "Sutrinti virtas bulves."},
        {t: "Keptos bulvƒós", i: ["bulvƒós", "aliejus", "prieskoniai"], d: "Kepti orkaitƒóje skiltelƒómis."},
        {t: "Gruzdintos bulvytƒós", i: ["bulvƒós", "aliejus"], d: "Kepti dideliame kiekyje aliejaus."},
        {t: "Bulvƒós su lupena", i: ["bulvƒós", "kastinys"], d: "Virti su odele."},
        {t: "Bulvi≈≥ plok≈°tainis", i: ["bulvƒós", "pienas", "kiau≈°iniai"], d: "Kugelis be mƒósos."},
        {t: "Vƒódarai", i: ["bulvƒós", "≈æarnos", "≈°oninƒó"], d: "Bulvi≈≥ de≈°ra."},
        {t: "Tro≈°kinti kop≈´stai", i: ["kop≈´stai", "pomidor≈≥ pada≈æas", "de≈°relƒós"], d: "Garnyras arba pagrindinis."},
        {t: "Dar≈æovi≈≥ tro≈°kinys", i: ["cukinija", "paprika", "pomidorai"], d: "Ratatouille stiliaus."},
        
        // --- MAKARONAI / KRUOPOS ---
        {t: "Makaronai su s≈´riu", i: ["makaronai", "s≈´ris", "sviestas"], d: "Mac & Cheese."},
        {t: "Carbonara", i: ["makaronai", "≈°oninƒó", "kiau≈°iniai", "s≈´ris"], d: "Itali≈°ka klasika."},
        {t: "Makaronai su tunu", i: ["makaronai", "tunas", "pomidorai"], d: "Greita ir paprasta."},
        {t: "Plov su dar≈æovƒómis", i: ["ry≈æiai", "morkos", "svog≈´nai", "≈æirneliai"], d: "Vegetari≈°kas plovas."},
        {t: "Grikiai su pada≈æu", i: ["grikiai", "sviestas", "grietinƒó"], d: "Paprasta vakarienƒó."},
        
        // --- U≈ΩKAND≈ΩIAI / SALOTOS ---
        {t: "Balta mi≈°rainƒó", i: ["bulvƒós", "morkos", "≈æirneliai", "majonezas"], d: "≈†venƒçi≈≥ klasika."},
        {t: "Burokƒóli≈≥ mi≈°rainƒó", i: ["burokƒóliai", "pupelƒós", "majonezas"], d: "Raudona mi≈°rainƒó."},
        {t: "Krab≈≥ salotos", i: ["krab≈≥ lazdelƒós", "ry≈æiai", "kukur≈´zai"], d: "Su majonezu."},
        {t: "Graiki≈°kos salotos", i: ["agurkai", "pomidorai", "feta", "alyvuogƒós"], d: "Su aliejumi."},
        {t: "Tuno salotos", i: ["tunas", "kiau≈°iniai", "salotos"], d: "Su aliejumi ar majonezu."},
        {t: "Silkƒó pataluose", i: ["silkƒó", "burokƒóliai", "bulvƒós"], d: "Sluoksniuota silkƒó."},
        {t: "Silkƒó su svog≈´nais", i: ["silkƒó", "svog≈´nai", "aliejus"], d: "Prie bulvi≈≥."},
        {t: "Kepta duona", i: ["duona", "aliejus", "s≈´ris", "majonezas"], d: "U≈ækandis prie alaus."},
        
        // --- DESERTAI ---
        {t: "Tinginys", i: ["sausainiai", "sviestas", "kakava", "sutir≈°tintas pienas"], d: "≈†aldytas desertas."},
        {t: "Obuoli≈≥ pyragas", i: ["obuoliai", "miltai", "cukrus", "kiau≈°iniai"], d: "Greitas pyragas."},
        {t: "Keksas", i: ["miltai", "sviestas", "cukrus", "kiau≈°iniai", "razinos"], d: "Mink≈°tas pyragas."},
        {t: "≈Ωelƒó", i: ["≈æelƒó", "vanduo", "vaisiai"], d: "≈†altas desertas."},
        {t: "Ledai su uogiene", i: ["ledai", "uogienƒó"], d: "Paprasƒçiausias desertas."},
        {t: "Bra≈°kƒós su pienu", i: ["bra≈°kƒós", "pienas", "cukrus"], d: "Vasaros sriuba."},
        {t: "Kepti obuoliai", i: ["obuoliai", "cukrus", "cinamonas"], d: "Orkaitƒóje kepti."},
        {t: "Vafliukai", i: ["miltai", "sviestas", "cukrus", "kiau≈°iniai"], d: "Kepti vaflinƒóje."},
        {t: "Spurgos", i: ["var≈°kƒó", "miltai", "kiau≈°iniai", "aliejus"], d: "Virtos aliejuje."},
        {t: "Kisielius", i: ["uogos", "krakmolas", "cukrus"], d: "Tir≈°tas gƒórimas."},
        {t: "Kompotas", i: ["vaisiai", "vanduo", "cukrus"], d: "Virti vaisiai."},
        {t: "Kakava", i: ["pienas", "kakava", "cukrus"], d: "Kar≈°tas gƒórimas."}
    ];

    // Papildom≈≥ ƒØra≈°≈≥ generavimas, kad pasiektume 150+ (Variacijos)
    const extras = [
        ["Kepta la≈°i≈°a", "≈æuvis"], ["≈Ωuvies kepsneliai", "≈æuvis"], ["Silkƒó su grybais", "silkƒó"],
        ["Pupeli≈≥ mi≈°rainƒó", "pupelƒós"], ["Mork≈≥ salotos", "morkos"], ["Kop≈´st≈≥ salotos", "kop≈´stai"],
        ["Sumu≈°tinis su de≈°ra", "batonas"], ["Sumu≈°tinis su la≈°i≈°a", "duona"], ["Skrebuƒçiai su uogiene", "batonas"],
        ["Ry≈æiai su kariu", "ry≈æiai"], ["Ry≈æiai su kiau≈°iniu", "ry≈æiai"], ["Makaronai su pesto", "makaronai"],
        ["Vi≈°tienos ie≈°meliai", "vi≈°tiena"], ["Kiaulienos ≈°onkauliai", "kiauliena"], ["Jautienos kepsnys", "mƒósa"],
        ["Trinta dar≈æovi≈≥ sriuba", "bulvƒós"], ["Pieni≈°ka ry≈æi≈≥ sriuba", "pienas"], ["Pieni≈°ka griki≈≥ sriuba", "pienas"],
        ["Blynai su bananais", "bananai"], ["Blynai su ≈°okoladu", "miltai"], ["Blynai su uogiene", "miltai"],
        ["Kiau≈°inienƒó su pomidorais", "kiau≈°iniai"], ["Kiau≈°inienƒó su grybais", "kiau≈°iniai"], ["Omletas su dar≈æovƒómis", "kiau≈°iniai"],
        ["Virti makaronai", "makaronai"], ["Kepti makaronai", "makaronai"], ["Virtos de≈°relƒós", "de≈°relƒós"],
        ["Keptos de≈°relƒós", "de≈°relƒós"], ["De≈°relƒós te≈°loje", "de≈°relƒós"], ["De≈°rainis", "de≈°relƒós"],
        ["Mƒósainis", "far≈°as"], ["S≈´rainis", "s≈´ris"], ["Pica", "s≈´ris"], ["Mini picos", "batonas"],
        ["Sluoksniuota te≈°la su ƒØdaru", "te≈°la"], ["Obuoliai te≈°loje", "obuoliai"], ["Bananai te≈°loje", "bananai"]
    ];

    extras.forEach(ex => {
        DB.push({t: ex[0], i: [ex[1], "prieskoniai"], d: "Greitas ir paprastas paruo≈°imas."});
    });

    // --- LOGIKA ---

    const input = document.getElementById("ingInput");
    const tagsDiv = document.getElementById("tags");
    const grid = document.getElementById("grid");
    const stats = document.getElementById("stats");

    // Init stats
    stats.innerText = `Duomen≈≥ bazƒóje: ${DB.length} receptai`;

    input.addEventListener("keypress", (e) => { if(e.key === "Enter") addIng(); });

    function addIng() {
        let val = input.value.trim().toLowerCase().replace(/,/g, "");
        if (val && !myIngs.includes(val)) {
            myIngs.push(val);
            renderTags();
            input.value = "";
        }
    }

    function renderTags() {
        tagsDiv.innerHTML = myIngs.map((ing, i) => 
            `<div class="tag">${ing} <span onclick="removeIng(${i})">√ó</span></div>`
        ).join("");
    }

    function removeIng(i) {
        myIngs.splice(i, 1);
        renderTags();
    }

    function getImage(title) {
        // Paprasta funkcija gauti paveiksliukƒÖ pagal pavadinimƒÖ (naudojant placeholder)
        // Realybƒóje reikt≈≥ API, bet ƒçia stengiamƒós i≈°laikyti failƒÖ veikiantƒØ be serverio
        const keyword = title.split(" ")[0]; // Pirmas ≈æodis
        return `https://loremflickr.com/400/300/${keyword},food/all`;
    }

    function renderCards(list) {
        grid.innerHTML = "";
        if(list.length === 0) {
            grid.innerHTML = "<div style='grid-column: 1/-1; text-align:center; padding:30px;'>Nerasta recept≈≥. Bandykite bendresnius produktus (pvz. kiau≈°iniai, bulvƒós).</div>";
            return;
        }

        list.forEach(r => {
            let matchText = r.matches ? `<div class="matches">Tinka: ${r.matches} ingred.</div>` : "";
            // Generuojam paveiksliukƒÖ su pavadinimu, kad b≈´t≈≥ gra≈æiau
            let imgUrl = `https://placehold.co/600x400/e67e22/ffffff?text=${encodeURIComponent(r.t)}`;
            
            grid.innerHTML += `
                <div class="card">
                    <img src="${imgUrl}" loading="lazy" alt="${r.t}">
                    <div class="card-body">
                        ${matchText}
                        <h3>${r.t}</h3>
                        <p><strong>Reikia:</strong> ${r.i.join(", ")}</p>
                        <div class="instr">${r.d}</div>
                    </div>
                </div>
            `;
        });
    }

    function search() {
        if (myIngs.length === 0) { alert("ƒÆveskite bent vienƒÖ produktƒÖ!"); return; }

        let results = DB.map(r => {
            let count = r.i.filter(ing => myIngs.some(my => ing.includes(my) || my.includes(ing))).length;
            return { ...r, matches: count };
        }).filter(r => r.matches > 0).sort((a,b) => b.matches - a.matches);

        renderCards(results);
    }

    function showAll() {
        renderCards(DB);
    }

</script>

</body>
</html>